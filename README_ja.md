# cmd-keeper

[![CI](https://github.com/taro33333/cmd-keeper/actions/workflows/ci.yml/badge.svg)](https://github.com/taro33333/cmd-keeper/actions/workflows/ci.yml)
[![Release](https://github.com/taro33333/cmd-keeper/actions/workflows/release.yml/badge.svg)](https://github.com/taro33333/cmd-keeper/actions/workflows/release.yml)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

æ—¥æœ¬èª | **[English](./README.md)**

ğŸ“ **ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã¨ãã®èª¬æ˜ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ä¿å­˜ãƒ»ç®¡ç†ãƒ»æ¤œç´¢ã™ã‚‹CLIãƒ„ãƒ¼ãƒ«**

## ç‰¹å¾´

- ğŸ–¥ï¸ **TUIãƒ¢ãƒ¼ãƒ‰**: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–UI
- ğŸš€ **é«˜é€Ÿ**: Rustè£½ã§é«˜é€Ÿã«å‹•ä½œ
- ğŸ“¦ **ã‚·ãƒ³ãƒ—ãƒ«**: ä¾å­˜é–¢ä¿‚ãŒå°‘ãªãã€ã™ãã«ä½¿ãˆã‚‹
- ğŸ·ï¸ **ã‚¿ã‚°æ©Ÿèƒ½**: ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¿ã‚°ã§æ•´ç†
- ğŸ” **æ¤œç´¢æ©Ÿèƒ½**: ã‚³ãƒãƒ³ãƒ‰ã€èª¬æ˜ã€ã‚¿ã‚°ã§æ¤œç´¢å¯èƒ½
- ğŸ“‹ **ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰é€£æº**: ã‚³ãƒãƒ³ãƒ‰ã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã‚³ãƒ”ãƒ¼
- ğŸ’¾ **ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜**: ãƒ‡ãƒ¼ã‚¿ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®JSONãƒ•ã‚¡ã‚¤ãƒ«ã«å®‰å…¨ã«ä¿å­˜
- âŒ¨ï¸ **Vimãƒ©ã‚¤ã‚¯æ“ä½œ**: `j`/`k` ã§ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆ

## ãƒ‡ãƒ¢

![cmd-keeper demo](./demo.gif)

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### Homebrewï¼ˆæ¨å¥¨ï¼‰

macOS / Linux ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ Homebrew ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ï¼š

```bash
brew install taro33333/tap/cmd-keeper
```

### GitHub Releases

[Releases](https://github.com/taro33333/cmd-keeper/releases) ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒã‚¤ãƒŠãƒªã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼š

| OS | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | ãƒ•ã‚¡ã‚¤ãƒ«å |
|----|--------------|-----------|
| macOS | Apple Silicon (M1/M2) | cmd-keeper-darwin-arm64 |
| macOS | Intel | cmd-keeper-darwin-amd64 |
| Linux | x86_64 | cmd-keeper-linux-amd64 |
| Windows | x86_64 | cmd-keeper-windows-amd64.exe |

```bash
# ä¾‹: macOS Apple Silicon
curl -LO https://github.com/taro33333/cmd-keeper/releases/latest/download/cmd-keeper-darwin-arm64
chmod +x cmd-keeper-darwin-arm64
sudo mv cmd-keeper-darwin-arm64 /usr/local/bin/cmd-keeper
```

### ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ“ãƒ«ãƒ‰

```bash
git clone https://github.com/taro33333/cmd-keeper.git
cd cmd-keeper
cargo install --path .
```

### Cargo

```bash
cargo install cmd-keeper
```

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# TUIãƒ¢ãƒ¼ãƒ‰ã‚’èµ·å‹•ï¼ˆæ¨å¥¨ï¼‰
cmd-keeper

# ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ï¼ˆCLIï¼‰
cmd-keeper add -c "git log --oneline -n 10" -d "ç›´è¿‘10ä»¶ã®ã‚³ãƒŸãƒƒãƒˆã‚’è¡¨ç¤º" -t git

# ä¸€è¦§è¡¨ç¤º
cmd-keeper list

# æ¤œç´¢
cmd-keeper search git

# ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
cmd-keeper copy 1
```

## TUIãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–UIï¼‰

å¼•æ•°ãªã—ã§å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–UIãŒèµ·å‹•ã—ã¾ã™ï¼š

```bash
cmd-keeper
# ã¾ãŸã¯
cmd-keeper tui
```

### ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰

#### Normal ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒªã‚¹ãƒˆé–²è¦§ï¼‰

| ã‚­ãƒ¼ | æ“ä½œ |
|-----|------|
| `q` / `Esc` | çµ‚äº† |
| `j` / `â†“` | ä¸‹ã«ç§»å‹• |
| `k` / `â†‘` | ä¸Šã«ç§»å‹• |
| `g` | å…ˆé ­ã«ç§»å‹• |
| `G` | æœ«å°¾ã«ç§»å‹• |
| `a` | ã‚³ãƒãƒ³ãƒ‰è¿½åŠ ãƒ¢ãƒ¼ãƒ‰ |
| `d` | å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| `x` / `Enter` | ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ |
| `y` | ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ |

#### Adding ãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚³ãƒãƒ³ãƒ‰è¿½åŠ ï¼‰

| ã‚­ãƒ¼ | æ“ä½œ |
|-----|------|
| `Tab` | æ¬¡ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ |
| `Shift+Tab` | å‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ |
| `Ctrl+S` | ä¿å­˜ |
| `Enter` | æ¬¡ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ / Tagsãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ä¿å­˜ |
| `Esc` | ã‚­ãƒ£ãƒ³ã‚»ãƒ« |

#### å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| ã‚­ãƒ¼ | æ“ä½œ |
|-----|------|
| `y` | å‰Šé™¤å®Ÿè¡Œ |
| `n` / `Esc` | ã‚­ãƒ£ãƒ³ã‚»ãƒ« |

## CLIãƒ¢ãƒ¼ãƒ‰

å¾“æ¥ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³æ“ä½œã‚‚å¼•ãç¶šãã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

### ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã™ã‚‹

```bash
# åŸºæœ¬çš„ãªä½¿ç”¨æ³•
cmd-keeper add -c "git log --oneline -n 10" -d "ç›´è¿‘10ä»¶ã®ã‚³ãƒŸãƒƒãƒˆã‚’è¡¨ç¤º"

# ã‚¿ã‚°ä»˜ãã§è¿½åŠ 
cmd-keeper add -c "docker ps -a" -d "å…¨ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’è¡¨ç¤º" -t docker,container
```

### ã‚³ãƒãƒ³ãƒ‰ã‚’ä¸€è¦§è¡¨ç¤ºã™ã‚‹

```bash
# å…¨ã¦ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤º
cmd-keeper list

# çœç•¥ã›ãšã«å…¨æ–‡è¡¨ç¤º
cmd-keeper list --full
```

å‡ºåŠ›ä¾‹:

```
â•­â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ID â”‚ Command                       â”‚ Description              â”‚ Tags        â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ git log --oneline -n 10       â”‚ ç›´è¿‘10ä»¶ã®ã‚³ãƒŸãƒƒãƒˆã‚’è¡¨ç¤º   â”‚ git         â”‚
â”‚ 2  â”‚ docker ps -a                  â”‚ å…¨ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’è¡¨ç¤º       â”‚ docker      â”‚
â•°â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Total: 2 command(s)
```

### ã‚³ãƒãƒ³ãƒ‰ã‚’æ¤œç´¢ã™ã‚‹

```bash
# ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢ï¼ˆã‚³ãƒãƒ³ãƒ‰ã€èª¬æ˜ã€ã‚¿ã‚°ã‚’æ¤œç´¢ï¼‰
cmd-keeper search docker

# çœç•¥ã›ãšã«å…¨æ–‡è¡¨ç¤º
cmd-keeper search git --full
```

### ã‚³ãƒãƒ³ãƒ‰ã‚’å‰Šé™¤ã™ã‚‹

```bash
# ç¢ºèªã‚ã‚Š
cmd-keeper delete 1

# ç¢ºèªãªã—ã§å¼·åˆ¶å‰Šé™¤
cmd-keeper delete 1 --force
```

### ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹

```bash
cmd-keeper copy 1
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‘ã‚¹ã‚’è¡¨ç¤ºã™ã‚‹

```bash
cmd-keeper path
```

## ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

| ã‚³ãƒãƒ³ãƒ‰ | ã‚¨ã‚¤ãƒªã‚¢ã‚¹ | èª¬æ˜ |
|---------|-----------|------|
| (ãªã—) | - | TUIãƒ¢ãƒ¼ãƒ‰ã‚’èµ·å‹• |
| `tui` | `ui` | TUIãƒ¢ãƒ¼ãƒ‰ã‚’èµ·å‹• |
| `add` | `a` | ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ  |
| `edit` | `e` | æ—¢å­˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ç·¨é›† |
| `list` | `ls` | å…¨ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤º |
| `search` | `s` | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢ |
| `delete` | `rm` | IDã§å‰Šé™¤ |
| `copy` | `cp` | ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ |
| `path` | - | DBãƒ‘ã‚¹ã‚’è¡¨ç¤º |

## ãƒ‡ãƒ¼ã‚¿ä¿å­˜å ´æ‰€

ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã®å ´æ‰€ã«JSONå½¢å¼ã§ä¿å­˜ã•ã‚Œã¾ã™:

- **Linux/macOS**: `~/.config/cmd-keeper/commands.json`
- **Windows**: `C:\Users\<USER>\AppData\Roaming\cmd-keeper\commands.json`

### ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```json
{
  "next_id": 3,
  "entries": [
    {
      "id": 1,
      "command": "git log --oneline -n 10",
      "description": "ç›´è¿‘10ä»¶ã®ã‚³ãƒŸãƒƒãƒˆã‚’è¡¨ç¤º",
      "tags": ["git"],
      "created_at": "2024-01-15T10:30:00Z"
    }
  ]
}
```

## é–‹ç™º

### ãƒ“ãƒ«ãƒ‰

```bash
cargo build --release
```

### ãƒ†ã‚¹ãƒˆ

```bash
cargo test
```

### ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```bash
cargo fmt
```

### ãƒªãƒ³ãƒˆ

```bash
cargo clippy
```

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **è¨€èª**: Rust (Edition 2021)
- **CLI**: clap (derive feature)
- **TUI**: ratatui + crossterm
- **ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º**: serde + serde_json
- **æ—¥æ™‚**: chrono
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: anyhow + thiserror

## ãƒªãƒªãƒ¼ã‚¹æ‰‹é †

1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–° (`Cargo.toml`)
2. ã‚¿ã‚°ã‚’ä½œæˆã—ã¦ãƒ—ãƒƒã‚·ãƒ¥:

```bash
git tag v1.0.0
git push origin v1.0.0
```

3. GitHub Actions ãŒè‡ªå‹•çš„ã«ãƒ“ãƒ«ãƒ‰ãƒ»ãƒªãƒªãƒ¼ã‚¹ã‚’å®Ÿè¡Œ
4. Homebrew Formula ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ãƒªãƒ³ã‚¯

- [GitHub Repository](https://github.com/taro33333/cmd-keeper)
- [Releases](https://github.com/taro33333/cmd-keeper/releases)

